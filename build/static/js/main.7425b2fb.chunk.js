(this.webpackJsonpdataflow=this.webpackJsonpdataflow||[]).push([[0],{244:function(e,t,a){},245:function(e,t,a){},274:function(e,t,a){},283:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},423:function(e,t,a){},425:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),s=a.n(i),c=(a(244),a(60)),o=a(27),l=a(34),d=a(35),u=a(13),p=a(36),h=a(37),j=(a.p,a(245),a(31)),b=a.n(j),m=a(58),O=a(25),g=a(39),v=a.n(g),f=(a(274),a(469)),x=a(1),y=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"topbar",children:[Object(x.jsx)("span",{className:"brand",children:"DataFlow"}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(x.jsxs)("span",{className:"navbar",children:[Object(x.jsx)(m.b,{className:"navLink",to:"/assets",children:"Dashboard"}),"   .   ",Object(x.jsx)(m.b,{className:"navLink",to:"/model",children:"Models"})]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(x.jsxs)("div",{style:{float:"right",padding:15,fontSize:15},children:["Directory: ",this.props.directory,Object(x.jsx)(f.a,{color:"primary",onClick:function(){return e.props.setDirectory()},children:"Change / Create New"})]})]})}}]),a}(r.a.Component),D=(a(283),r.a.Component,a(108)),_=a(109),A=[{module_name:"Input",block_type:"input",layer_type:"Input",params:[{param_name:"input name",type:"text"},{param_name:"shape",type:"text"}]},{module_name:"Output",block_type:"output",layer_type:"Output",params:[{param_name:"Output Name",type:"text"}]},{module_name:"Reshape",block_type:"default",params:[{param_name:"new shape",type:"tuple"}]},{module_name:"Flatten",block_type:"default",params:[]},{module_name:"Concatenate",block_type:"default",params:[{param_name:"axis",type:"number"}]},{module_name:"Fully Connected Layer",block_type:"default",layer_type:"Dense",params:[{param_name:"number of neurons",type:"number"},{param_name:"activation",type:"text"}]},{module_name:"1D Convolutional Layer",block_type:"default",layer_type:"Conv1D",params:[{param_name:"number of filters",type:"number"},{param_name:"kernel shape",type:"tuple"},{param_name:"stride",type:"tuple"},{param_name:"padding",type:"bool"},{param_name:"activation",type:"text"}]},{module_name:"2D Convolutional Layer",block_type:"default",layer_type:"Conv2D",params:[{param_name:"number of filters",type:"number"},{param_name:"kernel shape",type:"tuple"},{param_name:"stride",type:"tuple"},{param_name:"padding",type:"bool"},{param_name:"activation",type:"text"}]},{module_name:"3D Convolutional Layer",block_type:"default",layer_type:"Conv3D",params:[{param_name:"number of filters",type:"number"},{param_name:"kernel shape",type:"tuple"},{param_name:"stride",type:"tuple"},{param_name:"padding",type:"bool"},{param_name:"activation",type:"text"}]},{module_name:"1D Maxpooling Layer",block_type:"default",layer_type:"MaxPooling1D",params:[{param_name:"pool shape",type:"number"},{param_name:"stride",type:"number"}]},{module_name:"2D Maxpooling Layer",block_type:"default",layer_type:"MaxPooling2D",params:[{param_name:"pool shape",type:"tuple"},{param_name:"stride",type:"tuple"}]},{module_name:"3D Maxpooling Layer",block_type:"default",layer_type:"MaxPooling3D",params:[{param_name:"pool shape",type:"tuple"},{param_name:"stride",type:"tuple"}]},{module_name:"Long short-term memory (LSTM)",block_type:"default",layer_type:"LSTM",params:[{param_name:"units (output dimesnion)",type:"number"},{param_name:"activation",type:"text"},{param_name:"use_bias",type:"bool"},{param_name:"return_sequences",type:"bool"}]},{module_name:"Dropout",block_type:"default",params:[{param_name:"Dropout probability",type:"number"}]},{module_name:"Maxpooling Layer",block_type:"default",layer_type:"MaxPooling2D",params:[{param_name:"pool shape",type:"tuple"},{param_name:"stride",type:"tuple"}]},{module_name:"Recurrent Layer",block_type:"default",layer_type:"RNN",params:[{param_name:"number of neurons",type:"number"},{param_name:"activation",type:"text"}]}],C=function(e){for(var t=e.modules,a=[],n=function(e){a.push(Object(x.jsx)("div",{className:"react-flow__node-"+t[e].block_type,onDragStart:function(a){return function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"}(a,JSON.stringify(t[e]))},draggable:!0,children:t[e].module_name},e.toString()))},r=0;r<t.length;r++)n(r);return Object(x.jsx)("aside",{className:"sidebar",children:a})},M=(a(285),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={block_count:0,reactFlowInstance:null},n.onConnect=n.onConnect.bind(Object(u.a)(n)),n.onElementsRemove=n.onElementsRemove.bind(Object(u.a)(n)),n.onLoad=n.onLoad.bind(Object(u.a)(n)),n.onDrop=n.onDrop.bind(Object(u.a)(n)),n.onDragOver=n.onDragOver.bind(Object(u.a)(n)),n.onChange=n.onChange.bind(Object(u.a)(n)),n.onNodeDragStop=n.onNodeDragStop.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onConnect",value:function(e){var t=e;t.id="edge-"+e.source+"-"+e.target,this.props.saveData(this.props.modelData.nodes,this.props.modelData.edges.concat([t]))}},{key:"onElementsRemove",value:function(e){var t=this,a=[],n=[];e.forEach((function(e){void 0!==e.data?(a.push(e.id),t.props.removeIoObjectById(e.id)):n.push(e.id)})),this.props.saveData(this.props.modelData.nodes.filter((function(e){return!a.includes(e.id)})),this.props.modelData.edges.filter((function(e){return!n.includes(e.id)})))}},{key:"onLoad",value:function(e){this.setState({reactFlowInstance:e})}},{key:"onDrop",value:function(e){if(e.preventDefault(),this.state.reactFlowInstance){for(var t=JSON.parse(e.dataTransfer.getData("application/reactflow")),a=this.state.reactFlowInstance.project({x:e.clientX-300,y:e.clientY-70}),n=0;n<t.params.length;n++)t.params[n].value="";var r={id:this.props.getId(),position:a,data:t};this.props.saveData(this.props.modelData.nodes.concat([r]),this.props.modelData.edges),!this.props.createIoObject||"Input"!==t.module_name&&"Output"!==t.module_name||this.props.createIoObject(r)}}},{key:"onDragOver",value:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}},{key:"onChange",value:function(e,t,a){var n=Object(D.a)(this.props.modelData.nodes),r=n.findIndex((function(t){return t.id===e}));n[r].data.params[t].value=a,this.props.saveData(n,this.props.modelData.edges),this.props.renameIoObjectById(e,a,t)}},{key:"onNodeDragStop",value:function(e,t){var a=Object(D.a)(this.props.modelData.nodes),n=a.findIndex((function(e){return e.id===t.id}));a[n].position=t.position,this.props.saveData(a,this.props.modelData.edges)}},{key:"render",value:function(){for(var e=this,t=[],a=function(a){for(var n=e.props.modelData.nodes[a],r=[],i=function(t){r.push(Object(x.jsxs)("div",{children:[n.data.params[t].param_name," ",Object(x.jsx)("br",{}),Object(x.jsx)("input",{id:n.id+"-param-"+t.toString(),type:"text",value:n.data.params[t].value,onChange:function(a){return e.onChange(n.id,t,a.target.value)}}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]},t.toString()))},s=0;s<n.data.params.length;s++)i(s);var c={id:n.id,position:n.position,sourcePosition:"right",targetPosition:"left",type:n.data.block_type,data:{label:Object(x.jsxs)("div",{id:n.id,children:[Object(x.jsx)("h3",{children:n.data.module_name}),r]})}};t.push(c)},n=0;n<this.props.modelData.nodes.length;n++)a(n);for(var r=0;r<this.props.modelData.edges.length;r++)t.push(this.props.modelData.edges[r]);for(var i=[],s=0;s<this.props.listOfArchitectures.length;s++){var c=this.props.listOfArchitectures[s];i.push(Object(x.jsx)("option",{value:c,children:c}))}return Object(x.jsx)("div",{className:"canvasContainer",children:0===this.props.listOfArchitectures.length?Object(x.jsxs)("div",{style:{fontSize:"60px",color:"#555"},children:[Object(x.jsx)("br",{}),Object(x.jsxs)("center",{children:["No Models Created Yet",Object(x.jsx)("br",{}),Object(x.jsx)("a",{href:"/#/model",onClick:this.props.createNewArchitecture,children:"+ Create New Model"})]})]}):Object(x.jsx)("div",{className:"dndflow",children:Object(x.jsxs)(_.c,{children:[Object(x.jsx)(C,{modules:A}),Object(x.jsx)("div",{className:"reactflow-wrapper",children:Object(x.jsxs)(_.d,{elements:t,onConnect:this.onConnect,onElementsRemove:this.onElementsRemove,onLoad:this.onLoad,onDrop:this.onDrop,onDragOver:this.onDragOver,onNodeDragStop:this.onNodeDragStop,snapGrid:[15,15],children:[Object(x.jsx)("div",{className:"toolBarWrapper",children:Object(x.jsxs)("div",{className:"toolBar",children:["model: "," ",Object(x.jsx)("select",{value:this.props.currentArchitecture,onChange:function(t){return e.props.changeCurrArchitecture(t.target.value)},children:i}),"  ",Object(x.jsx)("input",{type:"button",onClick:this.props.deleteCurrArchitecture,value:"Detele"})," ",Object(x.jsx)("input",{type:"button",onClick:this.props.createNewArchitecture,value:"+ New"})]})}),Object(x.jsx)(_.b,{}),Object(x.jsx)(_.a,{})]})})]})})})}}]),a}(r.a.Component)),k=(a(286),a(287),a(288),a(459)),I=a(460),T=a(464),S=a(226),N=a(227),P=a(112),w=a(107),L=a(229),z=a(458),H=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){for(var e=this,t=this.props.info,a=this.props.info.trainingParams.metrics,n=[],r=[],i=0;i<a.length;i++)r.push([]);for(var s=0;s<t.trainingHistory.loss.length;s++){n.push({name:"epoch "+(s+1),train:t.trainingHistory.loss[s],validation:t.trainingHistory.val_loss[s]});for(var c=0;c<a.length;c++)r[c].push({name:"epoch "+(s+1),train:t.trainingHistory[a[c]][s],validation:t.trainingHistory["val_"+a[c]][s]})}for(var o=[],l=0;l<a.length;l++)o.push(Object(x.jsxs)(z.a,{item:!0,xs:6,children:[Object(x.jsx)("center",{children:a[l]}),Object(x.jsx)(k.a,{width:"100%",height:300,children:Object(x.jsxs)(I.a,{data:r[l],children:[Object(x.jsx)(T.a,{strokeDasharray:"3 3"}),Object(x.jsx)(S.a,{dataKey:"name"}),Object(x.jsx)(N.a,{}),Object(x.jsx)(P.a,{}),Object(x.jsx)(w.a,{}),Object(x.jsx)(L.a,{type:"monotone",dataKey:"train",stroke:"#8884d8"}),Object(x.jsx)(L.a,{type:"monotone",dataKey:"validation",stroke:"#82ca9d"})]})})]}));return Object(x.jsx)("div",{className:"trainedModelInfoContainer",children:Object(x.jsxs)(z.a,{container:!0,children:[Object(x.jsxs)(z.a,{item:!0,xs:3,children:[Object(x.jsxs)("div",{style:{height:"280px",overflowY:"scroll"},children:["Model Architecture: ",Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:t.modelArchitecture})," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"Train Datetime: ",Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:t.datetime})," ",Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"Training Parameters:",Object(x.jsx)("br",{}),"\xa0",Object(x.jsxs)("small",{children:["Loss Function: ",Object(x.jsx)("b",{children:t.trainingParams.loss_function})]})," ",Object(x.jsx)("br",{}),"\xa0",Object(x.jsxs)("small",{children:["Learning Rate: ",Object(x.jsx)("b",{children:t.trainingParams.learning_rate})]})," ",Object(x.jsx)("br",{}),"\xa0",Object(x.jsxs)("small",{children:["Optimizer: ",Object(x.jsx)("b",{children:t.trainingParams.optimizer})]})," ",Object(x.jsx)("br",{}),"\xa0",Object(x.jsxs)("small",{children:["Batch Size: ",Object(x.jsx)("b",{children:t.trainingParams.batch_size})]})," ",Object(x.jsx)("br",{}),"\xa0",Object(x.jsxs)("small",{children:["Epoch: ",Object(x.jsx)("b",{children:t.trainingParams.epochs})]})," ",Object(x.jsx)("br",{}),"\xa0",Object(x.jsxs)("small",{children:["Validation Split: ",Object(x.jsx)("b",{children:t.trainingParams.val_split})]})]}),Object(x.jsx)(f.a,{onClick:function(){return e.props.removeTrainedModel(t.name)},children:"Remove"}),Object(x.jsx)(f.a,{onClick:function(){return e.props.exportTrainedModel(t.name)},children:"Export"})]}),Object(x.jsx)(z.a,{item:!0,xs:9,children:Object(x.jsxs)(z.a,{container:!0,spacing:0,children:[Object(x.jsxs)(z.a,{item:!0,xs:6,children:[Object(x.jsxs)("center",{children:["Loss (",this.props.info.trainingParams.loss_function,")"]}),Object(x.jsx)(k.a,{width:"100%",height:300,children:Object(x.jsxs)(I.a,{data:n,children:[Object(x.jsx)(T.a,{strokeDasharray:"3 3"}),Object(x.jsx)(S.a,{dataKey:"name"}),Object(x.jsx)(N.a,{}),Object(x.jsx)(P.a,{}),Object(x.jsx)(w.a,{}),Object(x.jsx)(L.a,{type:"monotone",dataKey:"train",stroke:"#8884d8"}),Object(x.jsx)(L.a,{type:"monotone",dataKey:"validation",stroke:"#82ca9d"})]})})]}),o]})})]})})}}]),a}(r.a.Component),R=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={trainingHistory:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[];if(this.props.trainingHistory)for(var t=0;t<this.props.trainingHistory.length;t++)e.push(Object(x.jsxs)("div",{children:[Object(x.jsx)(H,{info:this.props.trainingHistory[t],removeTrainedModel:this.props.removeTrainedModel,exportTrainedModel:this.props.exportTrainedModel}),Object(x.jsx)("br",{})]},t));return Object(x.jsxs)("div",{className:"trainingPlots",children:[Object(x.jsx)("div",{style:{fontSize:30},children:"Training History"}),Object(x.jsx)("hr",{}),0===e.length?Object(x.jsx)("div",{className:"nullTitle",children:"No Trained Models Yet"}):e]})}}]),a}(r.a.Component),B=(a(423),a(470)),F=a(471),E=a(467),J=a(473),K=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={trainingHistory:[],metric_choose:"none",doneTraining:!1},n.onTrainingParamChange=n.onTrainingParamChange.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){!0===e.training&&!1===this.props.training?this.setState({doneTraining:!0}):!1===e.training&&!0===this.props.training&&this.setState({doneTraining:!1})}},{key:"onTrainingParamChange",value:function(e,t){var a=Object(c.a)({},this.props.trainingParams);a[e]=t,this.props.onTrainingParamChange(a)}},{key:"render",value:function(){for(var e=this,t=[],a=[],n=this.props.dataObjects,r=0;r<n.length;r++)a.push(Object(x.jsx)("option",{value:n[r].name,children:n[r].name}));var i=this.props.ioObjects,s=function(n){t.push(Object(x.jsxs)(z.a,{item:!0,xs:12,children:[Object(x.jsxs)("select",{value:i[n].dataset,onChange:function(t){return e.props.setIoDataset(n,t.target.value)},children:[Object(x.jsx)("option",{value:"",children:"(None)"}),a]}),"  --\x3e  "+i[n].name]}))};for(var c in i)s(c);for(var o=[],l=function(t){o.push(Object(x.jsxs)("span",{onClick:function(){return e.props.removeMetric(t)},style:{color:"grey",fontSize:12},children:["(x) "+e.props.trainingParams.metrics[t]," \xa0 \xa0 \xa0"]},t))},d=0;d<this.props.trainingParams.metrics.length;d++)l(d);for(var u=[],p=0;p<this.props.listOfArchitectures.length;p++){var h=this.props.listOfArchitectures[p];u.push(Object(x.jsx)("option",{value:h,children:h}))}return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"shadowBox",children:[Object(x.jsxs)("div",{style:{fontSize:"20px"},children:["Model Architecture: "," ",Object(x.jsx)("select",{value:this.props.currentArchitecture,onChange:function(t){return e.props.changeCurrArchitecture(t.target.value)},children:u})]}),Object(x.jsx)("h3",{children:"Training Parameters"}),Object(x.jsxs)(z.a,{container:!0,spacing:4,children:[Object(x.jsx)(z.a,{item:!0,xl:2,md:4,sm:6,xs:12,children:Object(x.jsxs)(B.a,{variant:"outlined",children:[Object(x.jsx)(F.a,{htmlFor:"loss-function",children:"Loss Function"}),Object(x.jsxs)(E.a,{native:!0,size:"small",value:this.props.trainingParams.loss_function,onChange:function(t){return e.onTrainingParamChange("loss_function",t.target.value)},label:"Loss Function",inputProps:{name:"loss-function",id:"loss-function"},children:[Object(x.jsx)("option",{value:"mean_squared_error",children:"mean squared error"}),Object(x.jsx)("option",{value:"categorical_crossentropy",children:"categorical crossentropy"}),Object(x.jsx)("option",{value:"binary_crossentropy",children:"binary crossentropy"})]})]})}),Object(x.jsx)(z.a,{item:!0,xl:2,md:4,sm:6,xs:12,children:Object(x.jsx)(J.a,{id:"standard-basic",label:"Learning Rate",size:"small",value:this.props.trainingParams.learning_rate,onChange:function(t){return e.onTrainingParamChange("learning_rate",t.target.value)}})}),Object(x.jsx)(z.a,{item:!0,xl:2,md:4,sm:6,xs:12,children:Object(x.jsxs)(B.a,{variant:"outlined",children:[Object(x.jsx)(F.a,{htmlFor:"optimizer",children:"Optimizer"}),Object(x.jsxs)(E.a,{native:!0,size:"small",value:this.props.trainingParams.optimizer,onChange:function(t){return e.onTrainingParamChange("optimizer",t.target.value)},label:"optimizer",inputProps:{name:"optimizer",id:"optimizer"},children:[Object(x.jsx)("option",{value:"Adam",children:"Adam"}),Object(x.jsx)("option",{value:"SGD",children:"SGD"}),Object(x.jsx)("option",{value:"Adagrad",children:"Adagrad"})]})]})}),Object(x.jsx)(z.a,{item:!0,xl:2,md:4,sm:6,xs:12,children:Object(x.jsx)(J.a,{id:"standard-basic",label:"Batch Size",size:"small",value:this.props.trainingParams.batch_size,onChange:function(t){return e.onTrainingParamChange("batch_size",t.target.value)}})}),Object(x.jsx)(z.a,{item:!0,xl:2,md:4,sm:6,xs:12,children:Object(x.jsx)(J.a,{id:"standard-basic",label:"Epochs",size:"small",value:this.props.trainingParams.epochs,onChange:function(t){return e.onTrainingParamChange("epochs",t.target.value)}})}),Object(x.jsx)(z.a,{item:!0,xl:2,md:4,sm:6,xs:12,children:Object(x.jsx)(J.a,{id:"standard-basic",label:"Validation Split",width:"100%",size:"small",value:this.props.trainingParams.val_split,onChange:function(t){return e.onTrainingParamChange("val_split",t.target.value)}})}),Object(x.jsxs)(z.a,{item:!0,xs:8,children:[Object(x.jsxs)(B.a,{variant:"outlined",children:[Object(x.jsx)(F.a,{htmlFor:"metrics",children:"Metrics"}),Object(x.jsxs)(E.a,{native:!0,size:"small",value:this.state.metric_choose,onChange:function(t){return e.setState({metric_choose:t.target.value})},label:"metrics",inputProps:{name:"metrics",id:"metrics"},children:[Object(x.jsx)("option",{value:"none",children:"(None)"}),Object(x.jsx)("option",{value:"accuracy",children:"accuracy"}),Object(x.jsx)("option",{value:"mean_squared_error",children:"mean square error"})]})]}),Object(x.jsx)(f.a,{onClick:function(){return e.props.addMetric(e.state.metric_choose)},children:"Add"})," "," ",o]})]}),Object(x.jsx)("h3",{children:"Training Data"}),0!==t.length?Object(x.jsx)(z.a,{container:!0,spacing:0,children:t}):"No input node or output node created yet. ",Object(x.jsx)("br",{}),Object(x.jsx)(f.a,{variant:"outlined",onClick:function(){return e.props.trainModel()},children:"Train Model"}),this.props.training?"\ntraining ...":"",this.state.doneTraining?Object(x.jsxs)("span",{style:{color:"green"},children:[" ","Training Finished!"]}):""]})})}}]),a}(r.a.Component),U=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={newDataObjectName:""},n.handleUploadData=n.handleUploadData.bind(Object(u.a)(n)),n.onChange=n.onChange.bind(Object(u.a)(n)),n}return Object(d.a)(a,[{key:"handleUploadData",value:function(e){var t=this;if(e.preventDefault(),this.uploadInput.files.length>0){var a=new FormData;a.append("file",this.uploadInput.files[0]),a.append("name",this.state.newDataObjectName),b.a.post("http://127.0.0.1:5000/uploadData",a).then((function(){t.props.rerenderDataAsset()})).catch((function(e){return console.log("POST ERR: ".concat(e))}))}}},{key:"onChange",value:function(e){this.setState({newDataObjectName:e.target.value})}},{key:"render",value:function(){var e=this,t=Object(D.a)(this.props.dataObjects);t.sort((function(e,t){return e.datetime<t.datetime?1:e.datetime>t.datetime?-1:0}));for(var a=[],n=function(n){a.push(Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"dataAsset dataObject",children:[Object(x.jsx)("div",{style:{fontSize:20,borderBottom:"0.5px solid grey"},children:t[n].name}),"Create at: ",t[n].datetime,Object(x.jsx)("br",{}),Object(x.jsx)(f.a,{size:"small",onClick:function(){return e.props.removeDataObject(t[n].name)},children:"Remove"})]})]},n))},r=0;r<t.length;r++)n(r);return Object(x.jsxs)("div",{className:"dashboardPage",children:[Object(x.jsxs)("div",{className:"datasetSection",children:[Object(x.jsxs)("div",{className:"topSection",children:[Object(x.jsx)("span",{style:{fontSize:20},children:"Upload Data"}),Object(x.jsx)("form",{onSubmit:this.handleUploadData,children:Object(x.jsxs)("table",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Name"}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"text",value:this.state.newDataObjectName,onChange:this.onChange})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Type"}),Object(x.jsx)("td",{children:Object(x.jsx)("select",{children:Object(x.jsx)("option",{children:"Numpy Array (.npy)"})})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"source"}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"file",ref:function(t){e.uploadInput=t}})})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:" "}),Object(x.jsx)("td",{children:Object(x.jsx)("input",{value:"upload",type:"submit"})})]})]})})]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{style:{fontSize:20,paddingLeft:10,borderBottom:"0.5px solid black"},children:"Data Assets"}),Object(x.jsx)("div",{className:"bottomSection",children:0===a.length?Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),"No Data Assets uploaded yet"]}):a})]}),Object(x.jsx)("div",{className:"trainingHistoryContainer",children:Object(x.jsxs)("div",{className:"trainingHistoryWrapper",children:[Object(x.jsx)(K,{trainingParams:this.props.trainingParams,dataObjects:this.props.dataObjects,ioObjects:this.props.ioObjects,currentArchitecture:this.props.currentArchitecture,setIoDataset:this.props.setIoDataset,onTrainingParamChange:this.props.onTrainingParamChange,trainModel:this.props.trainModel,trainingScore:this.props.trainingScore,trainingHistory:this.props.trainingHistory,training:this.props.training,removeTrainedModel:this.props.removeTrainedModel,addMetric:this.props.addMetric,removeMetric:this.props.removeMetric,changeCurrArchitecture:this.props.changeCurrArchitecture,listOfArchitectures:this.props.listOfArchitectures}),Object(x.jsx)("br",{}),Object(x.jsx)(R,{trainingHistory:this.props.trainingHistory,removeTrainedModel:this.props.removeTrainedModel,exportTrainedModel:this.props.exportTrainedModel})]})})]})}}]),a}(r.a.Component),q="http://127.0.0.1:5000/",Y=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).setDirectory=n.setDirectory.bind(Object(u.a)(n)),n.removeDataObject=n.removeDataObject.bind(Object(u.a)(n)),n.getDataAssetList=n.getDataAssetList.bind(Object(u.a)(n)),n.saveModelData=n.saveModelData.bind(Object(u.a)(n)),n.getModelData=n.getModelData.bind(Object(u.a)(n)),n.createIoObject=n.createIoObject.bind(Object(u.a)(n)),n.removeIoObjectById=n.removeIoObjectById.bind(Object(u.a)(n)),n.renameIoObjectById=n.renameIoObjectById.bind(Object(u.a)(n)),n.setIoDataset=n.setIoDataset.bind(Object(u.a)(n)),n.changeCurrArchitecture=n.changeCurrArchitecture.bind(Object(u.a)(n)),n.deleteAllArchitecture=n.deleteAllArchitecture.bind(Object(u.a)(n)),n.createNewArchitecture=n.createNewArchitecture.bind(Object(u.a)(n)),n.deleteCurrArchitecture=n.deleteCurrArchitecture.bind(Object(u.a)(n)),n.getModelNodeId=n.getModelNodeId.bind(Object(u.a)(n)),n.exportTrainedModel=n.exportTrainedModel.bind(Object(u.a)(n)),n.onTrainingParamChange=n.onTrainingParamChange.bind(Object(u.a)(n)),n.trainModel=n.trainModel.bind(Object(u.a)(n)),n.getTrainingHistory=n.getTrainingHistory.bind(Object(u.a)(n)),n.getDataAssetList=n.getDataAssetList.bind(Object(u.a)(n)),n.removeDataObject=n.removeDataObject.bind(Object(u.a)(n)),n.removeTrainedModel=n.removeTrainedModel.bind(Object(u.a)(n)),n.addMetric=n.addMetric.bind(Object(u.a)(n)),n.removeMetric=n.removeMetric.bind(Object(u.a)(n)),n.state=Object(o.a)({directory:"",modelData:{currId:0,nodes:[],edges:[]},trainingParams:{loss_function:"categorical_crossentropy",learning_rate:"0.0001",optimizer:"Adam",batch_size:"128",epochs:"4",val_split:"0.2",metrics:[]},listOfArchitectures:[],currentArchitecture:"",ioObjects:{},dataObjects:[],trainingHistory:[],training:!1},"trainingHistory",[]),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setDirectory()}},{key:"setDirectory",value:function(){var e=this;v.a.prompt("Select or create project","input project directory","").then((function(t){b.a.post(q+"changeProject",{directory:t}).then((function(t){e.setState({directory:t.data}),b.a.get(q+"listModelArchitectures").then((function(t){t.data.length>0&&(e.setState({listOfArchitectures:t.data,currentArchitecture:t.data[0]}),b.a.get(q+"getModelArchitecture/"+t.data[0]).then((function(t){e.setState({modelData:t.data,ioObjects:{}});for(var a=0;a<t.data.nodes.length;a++){var n=t.data.nodes[a];"Input"!==n.data.module_name&&"Output"!==n.data.module_name||e.createIoObject(n)}})).catch((function(e){v.a.alert("ERROR:",e)})))})).catch((function(e){v.a.alert("ERROR:",e)})),e.getTrainingHistory(),e.getDataAssetList()})).catch((function(e){return v.a.alert(e)}))})).catch((function(){console.log("cancel")}))}},{key:"removeDataObject",value:function(e){var t=this;v.a.confirm("Remove Data Object","Are you sure?").then((function(){b.a.post(q+"deleteDataObjects/"+e).then((function(a){"remove success"===a.data&&t.setState({dataObjects:t.state.dataObjects.filter((function(t){return t.name!==e}))})})).catch((function(e){v.a.alert("remove unsuccessful. \n"+e)}))})).catch((function(){console.log("no")}))}},{key:"getDataAssetList",value:function(){var e=this;b.a.get(q+"listDataObjects").then((function(t){e.setState({dataObjects:t.data})})).catch((function(e){v.a.alert("ERROR:",e)}))}},{key:"exportTrainedModel",value:function(e){prompt("specify a directory");v.a.prompt("Export Location","specify a directory","").then((function(t){b.a.post(q+"exportModel/"+e,{directory:t}).then((function(e){v.a.alert("export successful")})).catch((function(e){v.a.alert("export unsucessful")}))})).catch((function(){console.log("cancel")}))}},{key:"getModelNodeId",value:function(){return"dndnode_"+this.state.modelData.currId}},{key:"changeCurrArchitecture",value:function(e){var t=this;this.setState({currentArchitecture:e}),b.a.get(q+"getModelArchitecture/"+e).then((function(e){t.setState({modelData:e.data,ioObjects:{}});for(var a=0;a<e.data.nodes.length;a++){var n=e.data.nodes[a];"Input"!==n.data.module_name&&"Output"!==n.data.module_name||t.createIoObject(n)}})).catch((function(e){v.a.alert("ERROR:",e.toString())}))}},{key:"deleteAllArchitecture",value:function(){this.setState({currentArchitecture:"",modelData:{currId:0,nodes:[],edges:[]},ioObjects:{}})}},{key:"createNewArchitecture",value:function(){var e=this;v.a.prompt("Create Model Architecture","name your model","").then((function(t){t?(e.setState({modelData:{currId:0,nodes:[],edges:[]},currentArchitecture:t,listOfArchitectures:e.state.listOfArchitectures.concat(t)}),b.a.post(q+"saveModelArchitecture/"+t,{modelData:JSON.stringify({currId:0,nodes:[],edges:[]})})):v.a.alert("Invalid name! Try again")})).catch((function(){console.log("cancel")}))}},{key:"deleteCurrArchitecture",value:function(){var e=this;v.a.confirm("Delete Model Architecture","Are you sure?").then((function(){var t=e.state.currentArchitecture;b.a.post(q+"deleteModelArchitecture/"+t).then((function(a,n){n&&console.log(n);var r=e.state.listOfArchitectures.filter((function(e){return e!==t}));r.length>0?e.changeCurrArchitecture(r[0]):e.deleteAllArchitecture(),e.setState({listOfArchitectures:r}),v.a.alert(t+" deleted.")})).catch((function(e){console.log(e)}))})).catch((function(){}))}},{key:"createIoObject",value:function(e){var t=Object(c.a)({},this.state.ioObjects);t[e.id]={name:e.data.params[0].value,type:"Input"===e.data.module_name?"input":"output",dataset:""},this.setState({ioObjects:t})}},{key:"removeIoObjectById",value:function(e){var t=Object(c.a)({},this.state.ioObjects);t[e]&&delete t[e],this.setState({ioObjects:t})}},{key:"renameIoObjectById",value:function(e,t,a){if(this.state.ioObjects[e]&&0===a){var n=Object(c.a)({},this.state.ioObjects);n[e].name=t,this.setState({ioObjects:n})}}},{key:"getModelData",value:function(){return this.state.modelData}},{key:"saveModelData",value:function(e,t){var a=this.state.modelData.currId+1;this.setState({modelData:{currId:a,nodes:e,edges:t}}),b.a.post(q+"saveModelArchitecture/"+this.state.currentArchitecture,{modelData:JSON.stringify({currId:a,nodes:e,edges:t})})}},{key:"getTrainingHistory",value:function(){var e=this;b.a.get(q+"listTrainingHistory").then((function(t,a){var n=t.data;n.sort((function(e,t){return e.datetime<t.datetime?1:e.datetime>t.datetime?-1:0})),e.setState({trainingHistory:n})}))}},{key:"setIoDataset",value:function(e,t){var a=Object(c.a)({},this.state.ioObjects);a[e].dataset=t,this.setState({ioObjects:a})}},{key:"onTrainingParamChange",value:function(e){this.setState({trainingParams:e})}},{key:"addMetric",value:function(e){if("none"!==e&&!this.state.trainingParams.metrics.includes(e)){var t=Object(c.a)({},this.state.trainingParams);t.metrics=t.metrics.concat([e]),this.setState({trainingParams:t})}}},{key:"removeMetric",value:function(e){var t=Object(c.a)({},this.state.trainingParams);t.metrics.splice(e,1),this.setState({trainingParams:t})}},{key:"trainModel",value:function(){var e=this;this.setState({training:!0}),b.a.post(q+"trainModel",{data:JSON.stringify({modelArchitecture:this.state.currentArchitecture,trainingParams:this.state.trainingParams,ioObjects:this.state.ioObjects})}).then((function(t){e.setState({training:!1}),"success"===t.data?e.getTrainingHistory():alert(t.data)})).catch((function(e){alert("ERROR: "+e)}))}},{key:"removeTrainedModel",value:function(e){var t=this;b.a.post(q+"deleteTrainedModel/"+e).then((function(a){"remove success"===a.data&&t.setState({trainingHistory:t.state.trainingHistory.filter((function(t){return t.name!==e}))})})).catch((function(e){alert("remove unsuccessful. \n"+e)}))}},{key:"render",value:function(){var e=this;return console.log("exportTrainedModel",this.exportTrainedModel),Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(m.a,{children:[Object(x.jsx)("div",{style:{zIndex:10,position:"fixed",top:0},children:Object(x.jsx)(y,{directory:this.state.directory,setDirectory:this.setDirectory})}),Object(x.jsx)("div",{style:{height:"47px"}}),Object(x.jsx)("div",{className:"main",children:Object(x.jsxs)(O.d,{style:{zIndex:3},children:[Object(x.jsx)(O.b,{path:"/dashboard",render:function(t){var a;return Object(x.jsx)(U,(a={rerenderDataAsset:e.getDataAssetList,dataObjects:e.state.dataObjects,removeDataObject:e.removeDataObject,removeTrainedModel:e.removeTrainedModel,exportTrainedModel:e.exportTrainedModel,trainingParams:e.state.trainingParams},Object(o.a)(a,"dataObjects",e.state.dataObjects),Object(o.a)(a,"ioObjects",e.state.ioObjects),Object(o.a)(a,"currentArchitecture",e.state.currentArchitecture),Object(o.a)(a,"setIoDataset",e.setIoDataset),Object(o.a)(a,"onTrainingParamChange",e.onTrainingParamChange),Object(o.a)(a,"trainModel",e.trainModel),Object(o.a)(a,"trainingScore",e.state.trainingScore),Object(o.a)(a,"trainingHistory",e.state.trainingHistory),Object(o.a)(a,"training",e.state.training),Object(o.a)(a,"removeTrainedModel",e.removeTrainedModel),Object(o.a)(a,"addMetric",e.addMetric),Object(o.a)(a,"removeMetric",e.removeMetric),Object(o.a)(a,"changeCurrArchitecture",e.changeCurrArchitecture),Object(o.a)(a,"listOfArchitectures",e.state.listOfArchitectures),a))}}),Object(x.jsx)(O.b,{path:"/model",render:function(t){return Object(x.jsx)(M,{modelData:e.state.modelData,currentArchitecture:e.state.currentArchitecture,listOfArchitectures:e.state.listOfArchitectures,getId:e.getModelNodeId,createNewArchitecture:e.createNewArchitecture,changeCurrArchitecture:e.changeCurrArchitecture,deleteCurrArchitecture:e.deleteCurrArchitecture,saveData:e.saveModelData,createIoObject:e.createIoObject,removeIoObjectById:e.removeIoObjectById,renameIoObjectById:e.renameIoObjectById})}}),Object(x.jsx)(O.a,{to:"/dashboard"})]})})]})})}}]),a}(r.a.Component),G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,474)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(Y,{})}),document.getElementById("root")),G()}},[[425,1,2]]]);
//# sourceMappingURL=main.7425b2fb.chunk.js.map